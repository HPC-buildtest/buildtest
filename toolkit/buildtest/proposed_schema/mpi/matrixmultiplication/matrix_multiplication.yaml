test:
  name: matrix_multiplication_c
  source: mpi_mm.c
  cflags: -O3
  clean: True
  mpi:
    type: intelmpi
    num_procs: 4
    procs_per_node: 2
  module:
    - intel
  
  name: matrix_multiplication_f
  source: mpi_mm.f
  fflags: -O3 -echo
  clean: False
  mpi:
    type: intelmpi
    num_procs: 8
    
------------------ matrix_multiplication_c -----------------------
#!/bin/sh
module purge
module load intel
mpiicc src/mpi_mm.c -O3 -o matrix_multiplication_c
mpirun -n 4 -ppn 2 ./matrix_multiplication_c
rm ./matrix_multiplication_c


------------------ matrix_multiplication_f -----------------------
#!/bin/sh
module purge
module load intel
mpiifort  -O3 -echo src/mpi_mm.f -o matrix_multiplication_f
mpirun -n 8 ./matrix_multiplication_f
